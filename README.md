# open-groups-vk-info
Бот отправляет новые записи указанного сообщества в Телеграмм.
Если группа закрытая, необходима регистрация.

Настройки вк:
1. создание ключа группы: перед созданием ключа группы, необходимо включить доступ к управлению сообществом, сообщениям, стене в настройках группы vk.
2. LongPoll Api - Сообщения: "разрешение на получение", записи на стене: "добавление", Пользователи: "Выход из сообщества, блокировка".

Для закрытой группы так же необходимо включить сообщения сообщества, для отправки кода верификации.

1. в директории ./src/db создать 2 файла:
    * `sessions.json` - содержимое: `{}`;
    * `subscribed-users.json` - содержимое `[]`;
 
2. в корне необходимо создать файл projectPath.js. текст файла:
 module.exports = '' - абсолютный путь до проекта. 
3. в корне создать файл config.json в нём должен быть объект:
    ```    
    {
        "tmToken": "", - токен бота в ТМ
        "groupToken": "", - токен группы вк
        "vkToken": "", - токен вк пользователя, запускающего бота. 
        "groupId": "", - id сообщества в вк.
        "clientId": "", - id Standalone-приложения в vk.
        "isNeedAuthorize": true\false, -  Ключ isNeedAuthorize указывает на то, нужна ли регистрация через вк для получения уведомлений. (true - нужна). Необходимо для закрытых групп.
        ВНИМАНИЕ!!! Если стоит false, ключ vkToken имеет доступ к стене закрытого сообщества, то любой пользователь после ввода /start будет получать новости закрытой группы!!!
        "clientId": "", - айди приложения в vk.
        "secureCode": "" - Сервисный ключ доступа приложения в vk
    } 
    ```

Запуск:

1. `npm i`

2. `node ./src/index.js`